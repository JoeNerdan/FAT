<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title>FAT - FITML Analyzer Tool</title>

    <style type="text/css" media="screen">
      html{
        width: 95%;
        height: 100%;
        margin: 0;
        padding: 2%;
        font-family: sans-serif;
      }
      body{
        background-color: #0d3349;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        color: white;
      }
      textarea{
        background-color: #555555; 
        color: white;
      }
      .bold{
      font-weight: bold;
      }

      #inputContainer{
        width: 49%; 
        float:left;
        border-right: 2px solid #bab8b8;
      }
      #ruleContainer{
        width: 49%; 
        float:left;
        padding-left: 1em;
      }
      h1{
        color: #c2ccd1; 
        font-size: 1.4em;
        border-bottom: 1px solid white;
      }
      #addRuleSubmit{
        margin-top: 1em;
        margin-bottom: 1em;
        border-radius: 1em;
        background-color: white; 
        color: #373333;
        font-weight: bold;
      }
      #runTests{
        width: 30%;
        height: 50px;
        margin: auto;
        display: block;
        margin-top: 2em;
        margin-bottom: 1em;
        margin-top: 2em;
        border-radius: 1em;
        background-color: white; 
        color: #373333;
        font-weight: bold;
      }
      #addTests{
      margin-top: 2em;
      }
      .deleteButton{
          margin-left: 1em;
      color: red;
      background: transparent;
      border: 2px solid white;
      font-weight: bold;
      border-radius: 1em;

      }
      #fitmlInput{
      width: 80%;
      height: 90%;
      min-height: 300px;
      }
      #helpButton{
      width: 50px;
      height: 50px;
      position: fixed;
      overflow: hidden;
      right: 10px;
      top: 10px;

          }
          #helpButton img{
          width: 100%;
          height: 100%;
          }
          #helpTextCon{
              position: fixed;
              width: 100%;
              height: 100%;
              background: rgba(0,0,0, 0.7);
              top: 0;
              left: 0;
          }
          #helpText{
              border: 20px solid #373333;
          margin: auto;
          width: 70%;
          height: 80%;
          top: 10%;
          position: relative;
          background-color: white;
          overflow: scroll;
          color: black;
          }
          #helpText p{
          padding-left: 1em;
          }
          #helpText h1 {
              color: white;
              font-size: 1.5em;
              background: #2BB1af;
              padding: 1em;
              background-color: #0d3349;
          }
          #helpText h2 {
              color: white;
              font-size: 1.3em;
              background: #2BB1af;
              padding: 0.5em;
              background-color: #0d3349;
          }
          #helpText h3 {
              color: white;
              font-size: 1.2em;
              background: #2BB1af;
              padding: 0.2em;
              background-color: #0d3349;
          }
          #closeButton{
          position: fixed;
          top: 16%;
          right: 18%;
          z-index: 1;
          color: red;
          background: white;
          border: 5px solid black;
          border-radius: 2em;
          font-weight: bold;
          }
    </style>

    <link rel="stylesheet" href="qunit-1.11.0.css" type="text/css" media="screen" charset="utf-8"/>

  </head>
  <body>


<div id="helpButton">
    <img src="help.svg" alt="helpButton"/>
</div>

<div id="helpTextCon" style="display: none;">
    <div id="closeButton">
        <input type="BUTTON" name="closeButton" id="closeButton" value="X" />
    </div>
    <div id="helpText">
        <h1>FAT - Intro</h1>
        <p>
        
        FAT - FITML Analyzer Tool let's you run checks against your FITML document.
        <br />
        </p>

        <h1>Usage</h1>
            <h2>Basic Rules</h2>
            <p>The tool offers basic rules. They are maintained by the FITML-Team, can not be deleted and mostly check your FITML for errors that will break the processing mechanism. </p>
            <h2>User Rules</h2>
            <p>
            You are able to create your own rules. This can be used for project specific testing.
            <h3>Add Rules</h3>
            <p>A JS-Api is used to define new rules.
            The syntax is:
            <br />
            <code>
                FAT.addTest(testname, checkToBeExecuted, callbackFunction(resultData), message ,type);
            </code>
            <br />
            where 
            <ul>
                <li>
                <span class="bold">testname:</span>
                is the name of the test. Can not be duplicate and should not be named like a basic test.
                </li>
                <li>
                <span class="bold">checkToBeExecuted:</span>
                is the check FAT will run against the markup. 
                <br />
                Keep the return value in mind since you will be using it in your callbackFunction.
                </li>
                <li>
                <span class="bold">callbackFunction:</span>
                This function will be called with the result of the check as argument 
                <code>data</code>.
                <br />
                After checking  <code>data</code> your function should return 
                <code>true</code> when the result is as expected or <code>false</code>
                if not.
                </li>
                <li>
                <span class="bold">message:</span>
                This message is shown when the test fails.
                </li>
                <li>
                <span class="bold">type:</span>
                This defines the type of the check, in this version of FAT only 
                <code>xpath</code> is a valid type.
                </li>
            </ul>


            </p>
            <h3>Delete Rules</h3>
            <p>To delete a rule, simply click the delete button next to it.</p>
            <p>Basic rules can not be deleted.</p>
            </p>

            <h2>Testrun</h2>

            <p>
            To check a FITML document just paste the code in the window titled "Your FITML code".
            <br />
Then select the tests you want to run with the checkboxes next to them and start the test by pressing "Run Test".
            </p>

        <h1>Further help/infos</h1>
        <p>
        Contact jonathan@sevenval.com or fitmlteam@sevenval.com for support.
        </p>
    </div>
</div>


    <div id="inputContainer">
        <h1>Your FITML code</h1>
      <div id="fitmlContainer">
        <textarea id="fitmlInput" placeholder="FITML goes here" rows="8" cols="40">
          &lt;fitml&gt;
            &lt;img src alt/&gt;
            &lt;img src alt/&gt;
            &lt;img src alt/&gt;
            &lt;img src alt/&gt;
          &lt;/fitml&gt;
        </textarea>
      </div>

    </div>

    <div id="ruleContainer">

        <div id="basicTestsBlock">
            <h1>Basic rules</h1>
            <div id="basicTests">
            </div>
        </div>
        <div id="userTestsBlock">
            <h1>User rules</h1>
            <div id="userTests">
            </div>
        </div>
        <div id="addTests">
            <textarea id="addRuleInput" placeholder="New tests go here" rows="8" cols="40">
FAT.addTest("image have src", "count(//img[not(@src)])", function(data){
    if (data > 0) {
        return false;
    } else {
        return true;
    }
}, "All images have an src attribute" ,"xpath");
</textarea>
<br/>
            <input type="submit" name="addRuleSubmit" id="addRuleSubmit" value="Add Rule(s)" onclick="eval(document.getElementById('addRuleInput').value);"/>
        </div>

    </div>
<br/>
    <input type="button" id="runTests" onclick="FAT.runTests();" value="Run Test"/>

    <div id="qunit-fixture"></div>
    <div id="qunit"></div>

    <script src="qunit-1.11.0.js" type="text/javascript" charset="utf-8"></script>
    <script src="main.js" type="text/javascript" charset="utf-8"></script>
  </body>
</html>
